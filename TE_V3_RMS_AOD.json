{  
   "frameDefinition":{  
      "QueryEngine":{  
         "QE_type":"Snowflake"
      },
      "QueryEngineContext":{  
         "QueryCost":":Low/Avg/high/very-high",
         "TotalExecuter":"10",
         "ExecuterMemory":"10G",
         "ExecuterCore":"5",
         "DriverMemory":"5G",
         "ApplicationNames":"CSTE_QueryEngine",
         "SparkMaster":"local[4]",
         "SparkYarnDeployMode":"",
         "SparkHome":"",
         "sparkContextType":"SparkContext/SQLContext/HiveContext",
         "YarnQueue":"",
         "MainClass":"",
         "MainArguments":""
      },
      "QueryEngineConfig":{  
         "Snowflake":{  
            "SnowflakeConfig":{  
               "sfOption":[  
                  ""
               ]
            }
         },
         "SparkSQL":{  
            "SparkConfig":{  
               "sparkProps":[  
                  ""
               ]
            }
         }
      },
      "physical":{  
         "tables":[  
            {  
               "tableName":"trag_aggregated_data",
               "tableSourceDataId":"factory",
               "appendReplace":"replace",
               "tableQuery":"select * from aod_rtlmejetf_18.trag_aggregated_data",
               "tableValidationError":"PREVIOUS|REJECT",
               "columns":[  
                  {  
                     "columnName":"agd_mah_id",
                     "columnHeader":"agd_mah_id",
                     "columnDataType":"bigint",
                     "columnSize":20,
                     "columnPrecision":19,
                     "columnIsKey":"N"
                  },
                  {  
                     "columnName":"agd_tpr_id",
                     "columnHeader":"agd_tpr_id",
                     "columnDataType":"bigint",
                     "columnSize":20,
                     "columnPrecision":19,
                     "columnIsKey":"N"
                  }
               ]
            },
            {  
               "tableName":"trds_data_scope_output_fact",
               "tableSourceDataId":"factory",
               "appendReplace":"replace",
               "tableQuery":"select * from aod_rtlmejetf_18.trds_data_scope_output_fact",
               "tableValidationError":"PREVIOUS|REJECT",
               "columns":[  
                  {  
                     "columnName":"dof_fds_id",
                     "columnHeader":"dof_fds_id",
                     "columnDataType":"bigint",
                     "columnSize":20,
                     "columnPrecision":19,
                     "columnIsKey":"N"
                  },
                  {  
                     "columnName":"dof_ouf_id",
                     "columnHeader":"dof_ouf_id",
                     "columnDataType":"bigint",
                     "columnSize":20,
                     "columnPrecision":19,
                     "columnIsKey":"N"
                  }
               ]
            }
         ]
      },
      "logical":{  
         "preProcess":[  
            {  
               "steps":[  
                  {  
                     "StepID":"1",
                     "StepName":"Initialize",
                     "StepDescription":"initialization step",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"None",
                     "StepDefinition":"Validate and initialize PQM",
                     "StepTranformationType":"library",
                     "StepSourceType":"N/A",
                     "StepFileLocation":"N/A",
                     "StepOutputType":"N/A",
                     "StepOutputName":"N/A",
                     "StepLibraryDetails":{  
                        "jarLocation":"N/A",
                        "className":"com.nielsen.te.v3.initialize.InitializeStepExecutor"
                     },
                     "StepTarget":null,
                     "StepMapping":null
                  }
               ]
            }
         ],
         "dimensions":[  
            {  
               "dimensionName":"Market",
               "dimensionTemplate":"MRKT",
               "executeProcess":{  
                  "ProcessType":"JVM/Python/Shell",
                  "Mandatory":"No",
                  "HostName":"192.168.96.129",
                  "PortDetails":"22",
                  "Username":"ubuntu",
                  "Password":"ubuntu",
                  "Public_Key":"N/A",
                  "CommandDelimiter":"\\;",
                  "CommandToExecute":"cd /dev/nielsen/platform/job/tPivotCharVal",
                  "ExecuteScript":"./tPivotCharVal_run.sh"
               },
               "configuration":{  
                  "Mode":"Overwrite",
                  "config":"coalesce/repartition",
                  "Partition":[  
                     ""
                  ],
                  "Location":"file",
                  "RunParellel":"No"
               },
               "steps":[  
                  {  
                     "StepID":"1",
                     "StepName":"MarketCSV",
                     "StepDescription":"Market CSV Build",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"Parquet",
                     "StepDefinition":"reads csv and builds market file",
                     "StepQuery":"aaa",
                     "StepTranformationType":"library",
                     "StepSourceType":"String",
                     "StepFileLocation":"String",
                     "StepOutputType":"Table",
                     "StepOutputName":"MRKT_DIM",
                     "StepLibraryDetails":{  
                        "jarLocation":"abc.jar",
                        "className":"com.nielsen.te.v3.core.executors.FileToDimension"
                     },
                     "StepTarget":"FINAL"
                  }
               ]
            },
            {  
               "dimensionName":"Period",
               "dimensionTemplate":"PRD",
               "executeProcess":{  
                  "ProcessType":"JVM/Python/Shell",
                  "Mandatory":"No",
                  "HostName":"192.168.96.129",
                  "PortDetails":"22",
                  "Username":"ubuntu",
                  "Password":"ubuntu",
                  "Public_Key":"N/A",
                  "CommandDelimiter":"\\;",
                  "CommandToExecute":"cd /dev/nielsen/platform/job/tPivotCharVal",
                  "ExecuteScript":"./tPivotCharVal_run.sh"
               },
               "configuration":{  
                  "Mode":"Overwrite",
                  "config":"coalesce/repartition",
                  "Partition":[  
                     ""
                  ],
                  "Location":"file",
                  "RunParellel":"No"
               },
               "steps":[  
                  {  
                     "StepID":"1",
                     "StepName":"PeriodCSV",
                     "StepDescription":"Period CSV Build",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"Parquet",
                     "StepDefinition":"reads csv and builds Period file",
                     "StepQuery":"aaa",
                     "StepTranformationType":"library",
                     "StepSourceType":"String",
                     "StepFileLocation":"String",
                     "StepOutputType":"Table",
                     "StepOutputName":"PRD_DIM",
                     "StepLibraryDetails":{  
                        "jarLocation":"abc.jar",
                        "className":"com.nielsen.te.v3.core.executors.FileToDimension"
                     },
                     "StepTarget":"FINAL"
                  },
                  {  
                     "StepID":"2",
                     "StepName":"PeriodPrevCSV",
                     "StepDescription":"PeriodPrev CSV Build",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"Parquet",
                     "StepDefinition":"reads csv and builds Period Prev file",
                     "StepQuery":"aaa",
                     "StepTranformationType":"library",
                     "StepSourceType":"String",
                     "StepFileLocation":"String",
                     "StepOutputType":"Table",
                     "StepOutputName":"PRD_DIM_PREV",
                     "StepLibraryDetails":{  
                        "jarLocation":"abc.jar",
                        "className":"com.nielsen.te.v3.core.executors.FileToDimension"
                     },
                     "StepTarget":"FINAL"
                  }
               ]
            },
            {  
               "dimensionName":"Product",
               "dimensionTemplate":"PRDC",
               "executeProcess":{  
                  "ProcessType":"JVM/Python/Shell",
                  "Mandatory":"No",
                  "HostName":"192.168.96.129",
                  "PortDetails":"22",
                  "Username":"ubuntu",
                  "Password":"ubuntu",
                  "Public_Key":"N/A",
                  "CommandDelimiter":"\\;",
                  "CommandToExecute":"cd /dev/nielsen/platform/job/tPivotCharVal",
                  "ExecuteScript":"./tPivotCharVal_run.sh"
               },
               "configuration":{  
                  "Mode":"Overwrite",
                  "config":"coalesce/repartition",
                  "Partition":[  
                     ""
                  ],
                  "Location":"file",
                  "RunParellel":"No"
               },
               "steps":[  
                  {  
                     "StepID":"1",
                     "StepName":"ProductCSV",
                     "StepDescription":"Product CSV Build",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"Parquet",
                     "StepDefinition":"reads csv and builds Product file",
                     "StepQuery":"aaa",
                     "StepTranformationType":"library",
                     "StepSourceType":"String",
                     "StepFileLocation":"String",
                     "StepOutputType":"Table",
                     "StepOutputName":"PRDC_DIM",
                     "StepLibraryDetails":{  
                        "jarLocation":"abc.jar",
                        "className":"com.nielsen.te.v3.core.executors.ProductExecutor"
                     },
                     "StepTarget":"FINAL"
                  }
               ]
            }
         ],
         "facts":[  
            {  
               "factName":"SalesFacts",
               "factTemplate":"RMS Sales Facts",
               "configuration":{  
                  "Mode":"Overwrite/Append",
                  "config":"coalesce/repartition",
                  "Partition":[  
                     ""
                  ],
                  "Location":"ADLS",
                  "RunParellel":"Yes/No"
               },
               "extract":[  
                  {  
                     "Source":"trag_aggregated_data"
                  }
               ],
               "steps":[  
                  {  
                     "StepID":"1",
                     "StepName":"trag_aggregated_data_temp",
                     "StepDescription":"fact_aggregation",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"Parquet",
                     "StepDefinition":"CREATE TEMPORARY TABLE",
                     "StepQuery":"select  agd_prh_id,agd_prd_id,agd_mah_id,agd_tpr_id,agd_basic_fact_01,agd_basic_fact_02,agd_basic_fact_03,agd_basic_fact_04,agd_basic_fact_05,agd_basic_fact_06,'11112222' as agd_fds_id from trag_aggregated_data",
                     "StepTranformationType":"sql",
                     "StepSourceType":"N/A",
                     "StepFileLocation":"N/A",
                     "StepOutputType":"N/A",
                     "StepOutputName":"trag_aggregated_data_temp",
                     "StepLibraryDetails":{  
                        "jarLocation":"N/A",
                        "className":null
                     },
                     "StepTarget":null,
                     "StepMapping":null
                  },
                  {  
                     "StepID":"2",
                     "StepName":"trag_aggregated_data",
                     "StepDescription":"PRODUCT",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"Parquet",
                     "StepDefinition":"CREATE TEMPORARY TABLE",
                     "StepQuery":"aaa",
                     "StepTranformationType":"library",
                     "StepSourceType":"String",
                     "StepFileLocation":"String",
                     "StepOutputType":"String",
                     "StepOutputName":"trag_aggregated_data",
                     "StepLibraryDetails":{  
                        "jarLocation":"abc.jar",
                        "className":"com.nielsen.te.v3.core.executors.FactExecutor"
                     },
                     "StepTarget":"String"
                  }
               ]
            }
         ],
         "metadata":[  
            {  
               "metadataName":"CDM",
               "metadataTemplate":"metadata table creation",
               "configuration":{  
                  "Mode":"",
                  "config":"",
                  "Partition":[  
                     ""
                  ],
                  "Location":"",
                  "RunParellel":""
               },
               "extract":[  
                  {  
                     "Source":""
                  }
               ],
               "steps":[  
                  {  
                     "StepID":"1",
                     "StepName":"dim_metadata",
                     "StepDescription":"metadata table Build",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"Parquet",
                     "StepDefinition":"reads PQM tables and builds metadata tables and files",
                     "StepQuery":"aaa",
                     "StepTranformationType":"library",
                     "StepSourceType":"String",
                     "StepFileLocation":"String",
                     "StepOutputType":"Table",
                     "StepOutputName":"cdm_dim_table",
                     "StepLibraryDetails":{  
                        "jarLocation":"abc.jar",
                        "className":"com.nielsen.te.v3.core.executors.CDMMetaDataGeneration"
                     },
                     "StepTarget":"FINAL"
                  },
                  {  
                     "StepID":"2",
                     "StepName":"char_metadata",
                     "StepDescription":"metadata table Build",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"Parquet",
                     "StepDefinition":"reads PQM tables and builds metadata tables and files",
                     "StepQuery":"aaa",
                     "StepTranformationType":"library",
                     "StepSourceType":"String",
                     "StepFileLocation":"String",
                     "StepOutputType":"Table",
                     "StepOutputName":"cdm_char_table",
                     "StepLibraryDetails":{  
                        "jarLocation":"abc.jar",
                        "className":"com.nielsen.te.v3.core.executors.CDMMetaDataGeneration"
                     },
                     "StepTarget":"FINAL"
                  }
               ]
            }
         ],
         "postProcess":[  
            {  
               "steps":[  
                  {  
                     "StepID":"1",
                     "StepName":"validate",
                     "StepDescription":"validation step",
                     "StepDependency":[  
                        ""
                     ],
                     "StepOutputFormat":"None",
                     "StepDefinition":"Validate and initialize PQM",
                     "StepTranformationType":"library",
                     "StepSourceType":"N/A",
                     "StepFileLocation":"N/A",
                     "StepOutputType":"N/A",
                     "StepOutputName":"N/A",
                     "StepLibraryDetails":{  
                        "jarLocation":"N/A",
                        "className":"com.nielsen.te.v3.initialize.InitializeStepExecutor"
                     },
                     "StepTarget":null,
                     "StepMapping":null
                  }
               ]
            }
         ]
      }
   }
}